<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JavaWeb | CPPLUSE</title><meta name="keywords" content="JavaWeb"><meta name="author" content="PSPLUSE"><meta name="copyright" content="PSPLUSE"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaWeb什么是JavaWebJaveweb基本概念 用Java技术来解决相关web互联网领域的技术栈。web包括：Web服务端和Web客户端两部分。Java在客户端的应用有Java Applet，现如今基本上已经淘汰。Java服务端的应用非常的丰富，比如Servlet，JSP、Thymeleaf、Apache Freemark、第三方框架（Spring）等。Java技术对Web领域的发展注入">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb">
<meta property="og:url" content="http://example.com/99720b1c.html">
<meta property="og:site_name" content="CPPLUSE">
<meta property="og:description" content="JavaWeb什么是JavaWebJaveweb基本概念 用Java技术来解决相关web互联网领域的技术栈。web包括：Web服务端和Web客户端两部分。Java在客户端的应用有Java Applet，现如今基本上已经淘汰。Java服务端的应用非常的丰富，比如Servlet，JSP、Thymeleaf、Apache Freemark、第三方框架（Spring）等。Java技术对Web领域的发展注入">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.pximg.net/img-master/img/2022/07/14/18/34/38/99719211_p0_master1200.jpg">
<meta property="article:published_time" content="2022-06-30T12:22:47.000Z">
<meta property="article:modified_time" content="2022-07-15T13:32:29.052Z">
<meta property="article:author" content="PSPLUSE">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.pximg.net/img-master/img/2022/07/14/18/34/38/99719211_p0_master1200.jpg"><link rel="shortcut icon" href="/img/9.jpg"><link rel="canonical" href="http://example.com/99720b1c"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: PSPLUSE","link":"链接: ","source":"来源: CPPLUSE","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWeb',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2022-07-15 21:32:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/shadow.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/plugins.min.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="CPPLUSE" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 摸鱼专区</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于作者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.pximg.net/img-master/img/2022/07/14/00/00/08/99705957_p0_master1200.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CPPLUSE</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 摸鱼专区</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于作者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-06-30T12:22:47.000Z" title="发表于 2022-06-30 20:22:47">2022-06-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-15T13:32:29.052Z" title="更新于 2022-07-15 21:32:29">2022-07-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/JavaWeb/">JavaWeb</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>53分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWeb"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><h2 id="什么是JavaWeb"><a href="#什么是JavaWeb" class="headerlink" title="什么是JavaWeb"></a>什么是JavaWeb</h2><h3 id="Javeweb基本概念"><a href="#Javeweb基本概念" class="headerlink" title="Javeweb基本概念"></a>Javeweb基本概念</h3><p> <strong>用Java技术来解决相关web互联网领域的技术栈</strong>。web包括：<strong>Web服务端</strong>和<strong>Web客户端</strong>两部分。Java在客户端的应用有Java Applet，<strong>现如今基本上已经淘汰</strong>。Java服务端的应用非常的丰富，<strong>比如Servlet，JSP、Thymeleaf、Apache Freemark、第三方框架（Spring）等</strong>。Java技术对Web领域的发展注入了强大的动力，也是起成为经久不衰的今典高级开发语言。</p>
<h3 id="静态Web"><a href="#静态Web" class="headerlink" title="静态Web"></a>静态Web</h3><p> <strong>界面内容固定，不会根据时效性、用户类型、权限等动态刷新界面所显示内容</strong>。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152105901.png" alt="eb08bc92a05872e9f999c5c32917961"></p>
<ul>
<li>静态web存在的缺点<ul>
<li>Web页面无法动态更新，所有用户看到都是同一个页面<ul>
<li>轮播图，点击特效：伪动态</li>
<li>JavaScript实际开发中，它用的最多</li>
<li>VBScript</li>
</ul>
</li>
<li>它无法和数据库交互（数据无法持久化，用户无法交互）</li>
</ul>
</li>
</ul>
<h3 id="动态Web"><a href="#动态Web" class="headerlink" title="动态Web"></a>动态Web</h3><p><strong>界面内容不固定，动态实时改变所呈现的界面内容信息。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152105196.png" alt="bd3a8f6a0f160874c49cb4e80670d2d"><br>动态Web存在的缺点：</p>
<ul>
<li>加入服务器的动态web资源出现了错误，我们需要重新编写我们的后台程序，重新发布；<ul>
<li>停机维护优点：</li>
</ul>
</li>
<li>Web页面可以动态更新，所有用户看到都不是同一个页面</li>
<li>它可以与数据库交互（数据持久化：注册，商品信息，用户信息………）</li>
</ul>
<h2 id="什么是B-x2F-S、C-x2F-S结构？"><a href="#什么是B-x2F-S、C-x2F-S结构？" class="headerlink" title="什么是B&#x2F;S、C&#x2F;S结构？"></a>什么是B&#x2F;S、C&#x2F;S结构？</h2><h3 id="C-x2F-S结构"><a href="#C-x2F-S结构" class="headerlink" title="C&#x2F;S结构"></a>C&#x2F;S结构</h3><p>C&#x2F;S(Client&#x2F;Server)：<strong>又称客户&#x2F;服务器模式</strong>。服务器通常采用高性能的PC、工作站或小型机，并采用大型数据库系统，如Oracle、Sql Server等。客户端需要安装专用的客户端软件，结果图如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152109225.png" alt="6948039e3384943336ff08a6a2f9d81"></p>
<p>优点：</p>
<ul>
<li><strong>安全性：</strong>需要其特定的客户端，所以面向对象比较确定，将所进行的信息安全处于一个可控的范围</li>
<li><strong>效率：</strong>客户端的服务器直接相连，省却了中间环节，数据的传输比较快</li>
<li>个性化：有特定的客户端，所以可以在较大程度上满足客户的个性化要求</li>
<li>稳定性：结构比较稳定，有较强的事务处理能力，可以实现较复杂的业务逻辑</li>
</ul>
<p>缺点：</p>
<ul>
<li><strong>特定的客户端</strong>：对客户端有一定的要求，如：操作系统，并且它就像订在墙上的石头桌子，不可再利用</li>
<li>中间环节：因为省却了中间环节，所以当客户端达到一定的量时，同时访问服务器，造成服务器的相应变慢，效率变低</li>
</ul>
<h3 id="B-x2F-S结构"><a href="#B-x2F-S结构" class="headerlink" title="B&#x2F;S结构"></a>B&#x2F;S结构</h3><p>B&#x2F;S（Browser&#x2F;Server）：<strong>又称浏览器&#x2F;服务器模式。是WEB兴起后的一种网络结构模式，</strong>WEB浏览器是客户端最主要的应用软件。这种模式统一了客户端，将系统功能实现的核心部分集中到服务器上，简化了系统的开发、维护和使用。客户机上只要安装一个浏览器，如Internet Explorer，服务器安装SQL Server、Oracle、MYSQL等数据库。浏览器通过Web Server 同数据库进行数据交互。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152109816.png" alt="8198e4db401ba2be44909a0eeacfa69"></p>
<p>优点:</p>
<ul>
<li>范围广：零安装，拥有一个浏览器，即可访问，面向的范围更广</li>
<li>维护性：维护简单，更新页面，即可实现面向所有用户的更新</li>
<li>共享性：通过浏览器访问，共享性强，就像买来的餐桌，可以再利用</li>
</ul>
<p>缺点:</p>
<ul>
<li>在跨浏览器上，BS架构不尽如人意。</li>
<li>表现要达到CS程序的程度需要花费不少精力。</li>
<li>在速度和安全性上需要花费巨大的设计成本，这是BS架构的最大问题。</li>
<li>客户端服务器端的交互是请求-响应模式，通常需要刷新页面，这并不是客户乐意看到的。</li>
</ul>
<h2 id="Web服务器"><a href="#Web服务器" class="headerlink" title="Web服务器"></a>Web服务器</h2><p>服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应信息；<br><strong>lIS</strong><br>微软的；ASP.,Windows中自带的<br><strong>Tomcat</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20200423183331323.png" border="0"></p>
<p>Tomcat是Apache 软件基金会（Apache Software Foundation)的jakarta项目中的一个核心项目，最新的Servlet 和JSP 规范总是能在Tomcat中得到体现，因为Tomcat 技术先进、性能稳定，而且免费，因而深受lava爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web应用服务器。</p>
<p>Tomcat 服务器是一个免费的开放源代码的Web应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP程序的首选。对于一个Java初学web的人来说，它是最佳的选择。</p>
<p>成为大佬之后可尝试进行手写Tomcat</p>
<h3 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h3><p>下载Tomcat：</p>
<ol>
<li>安装Tomcat:</li>
<li>了解配置文件及目录文件的结构</li>
<li>还要了解Tomcat的作用</li>
</ol>
<h4 id="Tomcat的安装"><a href="#Tomcat的安装" class="headerlink" title="Tomcat的安装"></a>Tomcat的安装</h4><p>Tomcat的官网: <a target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012468.png">
进行解压
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012469.png">

<h4 id="Tomcat的启动和环境变量配置"><a href="#Tomcat的启动和环境变量配置" class="headerlink" title="Tomcat的启动和环境变量配置"></a>Tomcat的启动和环境变量配置</h4><p>Tomcat文件夹的作用:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012472.png"><br>启动Tomcat和关闭Tomcat<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012471.png"></p>
<p>访问测试：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p>
<p>可能遇到的问题：</p>
<ol>
<li>Java环境变量没有配置</li>
<li>闪退问题：需要配置兼容性</li>
<li>乱码问题：配置文件中设置</li>
</ol>
<p>可以修改 conf&#x2F;logging.properties 中的 java.util.logging.ConsoleHandler.encoding &#x3D; GBK <strong>解决乱码问题</strong></p>
<h4 id="Tomcat的配置"><a href="#Tomcat的配置" class="headerlink" title="Tomcat的配置"></a>Tomcat的配置</h4><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012470.png">

<p>可以配置启动的端口号</p>
<ul>
<li>tomcat的默认端口号为：8080</li>
<li>mysql:3306</li>
<li>http:80</li>
<li>https：443</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Connector port=&quot;8081&quot; protocol=&quot;HTTP/1.1&quot;</span><br><span class="line">      connectionTimeout=&quot;20000&quot;</span><br><span class="line">      redirectPort=&quot;8443&quot; /&gt;</span><br></pre></td></tr></table></figure>


<p>可以配置主机的名称</p>
<ul>
<li>默认的主机名为：localhost-&gt;127.0.0.1</li>
<li>默认网站应用存放的位置为：webapps</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Host name=&quot;www.qinjiang.com&quot;  appBase=&quot;webapps&quot;</span><br><span class="line">      unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="发布一个web网站"><a href="#发布一个web网站" class="headerlink" title="发布一个web网站"></a>发布一个web网站</h4><ul>
<li>将自己写的网站，放到服务器（Tomcat)中指定的web应用的文件夹（webapps)下，就可以访问了</li>
</ul>
<p>网站应该有的结构</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--webapps ：Tomcat服务器的web目录</span><br><span class="line">	-ROOT</span><br><span class="line">	-linglanstudy ：网站的目录名</span><br><span class="line">		- WEB-INF</span><br><span class="line">			-classes : java程序</span><br><span class="line">			-lib：web应用所依赖的jar包</span><br><span class="line">			-web.xml ：网站配置文件</span><br><span class="line">		- index.html 默认的首页</span><br><span class="line">		- static </span><br><span class="line">            -css</span><br><span class="line">            	-style.css</span><br><span class="line">            -js</span><br><span class="line">            -img</span><br><span class="line">         -.....</span><br></pre></td></tr></table></figure>

<h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><h3 id="什么是HTTP"><a href="#什么是HTTP" class="headerlink" title="什么是HTTP"></a>什么是HTTP</h3><p>(超文本传输协议）是一个简单的请求-响应协议，它通常运行在TCP之上。</p>
<ul>
<li>文本：html，字符串，…</li>
<li>超文本：图片，音乐，视频，定位，地图.……</li>
<li>端口:80</li>
</ul>
<p>Https:安全的</p>
<h3 id="两个时代"><a href="#两个时代" class="headerlink" title="两个时代"></a>两个时代</h3><ul>
<li>http1.0<ul>
<li>HTTP&#x2F;1.0：客户端可以与web服务器连接后，只能获得一个web资源，断开连接</li>
</ul>
</li>
<li>http2.0<ul>
<li>HTTP&#x2F;1.1：客户端可以与web服务器连接后，可以获得多个web资源。</li>
</ul>
</li>
</ul>
<h3 id="Http请求"><a href="#Http请求" class="headerlink" title="Http请求"></a>Http请求</h3><ul>
<li>客户端–发请求（Request）–服务器</li>
</ul>
<p>哔哩哔哩:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Request URL:https://www.bilibili.com/</span><br><span class="line">Request Method:GET</span><br><span class="line">Status Code:200</span><br><span class="line">Remote Address:127.0.0.1:7890</span><br><span class="line"></span><br><span class="line">Accept:text/html  </span><br><span class="line">accept-encoding:gzip, deflate, br</span><br><span class="line">accept-language:zh-CN,zh;q=0.9</span><br><span class="line">Cache-Control:max-age=0</span><br></pre></td></tr></table></figure>

<h4 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h4><ul>
<li>请求行中的请求方式：GET</li>
<li>请求方式：Get,Post,HEAD,DELETE,PUT,TRACT.…<ul>
<li>get：请求能够携带的参数比较少，大小有限制，会在浏览器的URL地址栏显示数据内容，不安全，但高效</li>
<li>post:请求能够携带的参数没有限制，大小没有限制，不会在浏览器的URL地址栏显示数据内容，安全，但不高效。</li>
</ul>
</li>
</ul>
<h4 id="消息头"><a href="#消息头" class="headerlink" title="消息头"></a>消息头</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Accept：告诉浏览器，它所支持的数据类型</span><br><span class="line">Accept-Encoding：支持哪种编码格式  GBK   UTF-8   GB2312  ISO8859-1</span><br><span class="line">Accept-Language：告诉浏览器，它的语言环境</span><br><span class="line">Cache-Control：缓存控制</span><br><span class="line">Connection：告诉浏览器，请求完成是断开还是保持连接</span><br><span class="line">HOST：主机..../.</span><br></pre></td></tr></table></figure>

<h3 id="Http响应"><a href="#Http响应" class="headerlink" title="Http响应"></a>Http响应</h3><p>哔哩哔哩:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cache-control:no-cache                  缓存控制</span><br><span class="line">content-encoding:gzip                   编码</span><br><span class="line">content-type:text/html; charset=utf-8   类型</span><br></pre></td></tr></table></figure>

<h4 id="响应体"><a href="#响应体" class="headerlink" title="响应体"></a>响应体</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Accept：告诉浏览器，它所支持的数据类型</span><br><span class="line">Accept-Encoding：支持哪种编码格式  GBK   UTF-8   GB2312  ISO8859-1</span><br><span class="line">Accept-Language：告诉浏览器，它的语言环境</span><br><span class="line">Cache-Control：缓存控制</span><br><span class="line">Connection：告诉浏览器，请求完成是断开还是保持连接</span><br><span class="line">HOST：主机..../.</span><br><span class="line">Refresh：告诉客户端，多久刷新一次；</span><br><span class="line">Location：让网页重新定位；</span><br></pre></td></tr></table></figure>

<h4 id="响应状态码"><a href="#响应状态码" class="headerlink" title="响应状态码"></a>响应状态码</h4><p>200：请求响应成功200<br>3xx:请求重定向·重定向：你重新到我给你新位置去；<br>4xx:找不到资源404·资源不存在；<br>5xx:服务器代码错误 500 502:网关错误</p>
<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><p><strong>我为什么要学习这个技术？</strong></p>
<ol>
<li>在Javaweb开发中，需要使用大量的jar包，我们手动去导入；</li>
<li>如何能够让一个东西自动帮我导入和配置这个jar包。</li>
</ol>
<h3 id="Maven项目框架管理工具"><a href="#Maven项目框架管理工具" class="headerlink" title="Maven项目框架管理工具"></a>Maven项目框架管理工具</h3><p>我们目前用来就是方便导入jar包的！<br>Maven的核心思想：<strong>约定大于配置</strong></p>
<ul>
<li>有约束，不要去违反。</li>
</ul>
<p>Maven会规定好你该如何去编写我们Java代码，必须要按照这个规范来；</p>
<h3 id="下载Maven和安装Maven"><a href="#下载Maven和安装Maven" class="headerlink" title="下载Maven和安装Maven"></a>下载Maven和安装Maven</h3><p>Maven官网: <a target="_blank" rel="noopener" href="https://maven.apache.org/">https://maven.apache.org/</a></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012474.png">

<p>下载完成后，解压即可；</p>
<h3 id="配置Maven环境变量"><a href="#配置Maven环境变量" class="headerlink" title="配置Maven环境变量"></a>配置Maven环境变量</h3><p>在我们的系统环境变量中配置如下配置：</p>
<ul>
<li>M2_HOME maven目录下的bin目录</li>
<li>MAVEN_HOME maven的目录</li>
<li>在系统的path中配置%MAVEN_HOME%\bin</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152023566.png" alt="10ee5266c247156a9cb2e8ac077917a"></p>
<p>检查Maven命令 <code>mvn -version</code><br>测试Maven是否安装成功，保证必须配置完毕！</p>
<h3 id="阿里云镜像"><a href="#阿里云镜像" class="headerlink" title="阿里云镜像"></a>阿里云镜像</h3><ul>
<li>镜像：mirrors</li>
<li>作用：加速我们的下载</li>
<li>国内建议使用阿里云的镜像</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h3><p>在本地的仓库，远程仓库； 建立一个本地仓库：localRepository</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\Environment\apache-maven-3.6.2\maven-repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="创建一个maven项目"><a href="#创建一个maven项目" class="headerlink" title="创建一个maven项目"></a>创建一个maven项目</h3><ol>
<li>启动idea</li>
<li>创建一个maven web项目</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152024923.png" alt="image-20210821112933801"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152025557.png" alt="image-20210821142829865"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152025000.png" alt="image-20210821143047701"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152025791.png" alt="image-20210821113859409"></p>
<p>等待项目初始化完毕</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152026137.png" alt="image-20210821114719623"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152026162.png" alt="image-20220715202654106"></p>
<p>idea中maven设置</p>
<p>idea项目创建成功后，看一眼Maven的配置</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152027035.png" alt="image-20210821143805967"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152028481.png" alt="image-20220715202808421"></p>
<p>这个只有在web应用下才会有</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152028984.png" alt="image-20220715202846924"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152029806.png" alt="image-20220715202932743"></p>
<p><strong>方法【2】</strong></p>
<h3 id><a href="#" class="headerlink" title></a><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152030851.png" alt="image-20220715203003778"></h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152030842.png" alt="image-20220715203027768"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152030098.png" alt="image-20220715203047037"></p>
<h3 id="在idea中配置tomcat"><a href="#在idea中配置tomcat" class="headerlink" title="在idea中配置tomcat"></a>在idea中配置tomcat</h3><ol>
<li>点击下面这里</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152031889.png" alt="image-20220715203155829"></p>
<p>2.点击加号，【tomcat service】 –》【local】</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152032520.png" alt="image-20220715203241457"></p>
<p>3.配置tomcat服务器</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152033589.png" alt="image-20220715203305522"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152033067.png" alt="image-20220715203318005"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152033724.png" alt="image-20220715203327661"></p>
<p>4.启动tomcat</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152034117.png" alt="image-20220715203406061"></p>
<h3 id="POM文件"><a href="#POM文件" class="headerlink" title="POM文件"></a>POM文件</h3><p>pom.xml是maven的核心配置文件</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152035466.png" alt="image-20220715203517393"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!--maven版本和头文件--&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--这里就是我们配置的gav--&gt;</span><br><span class="line">  &lt;groupId&gt;com.linglan&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;javaweb-maven&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">  &lt;!--packaging  项目的方法方式</span><br><span class="line">    jar:jar应用</span><br><span class="line">    war:javaWeb应用</span><br><span class="line">  --&gt;</span><br><span class="line">  &lt;packaging&gt;war&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">  &lt;name&gt;javaweb-maven Maven Webapp&lt;/name&gt;</span><br><span class="line">  &lt;!-- FIXME change it to the project&#x27;s website --&gt;</span><br><span class="line">  &lt;url&gt;http://www.example.com&lt;/url&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--配置--&gt;</span><br><span class="line">  &lt;properties&gt;</span><br><span class="line">    &lt;!--项目的默认构建编码--&gt;</span><br><span class="line">    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</span><br><span class="line">    &lt;!--编码版本--&gt;</span><br><span class="line">    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;</span><br><span class="line">    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;</span><br><span class="line">  &lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--项目依赖--&gt;</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.11&lt;/version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">  &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--项目构建用的东西--&gt;</span><br><span class="line">  &lt;build&gt;</span><br><span class="line">    &lt;finalName&gt;javaweb-maven&lt;/finalName&gt;</span><br><span class="line">    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span><br><span class="line">      &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.1.0&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.0.2&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.8.0&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.22.1&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;3.2.2&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.5.2&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.8.2&lt;/version&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">      &lt;/plugins&gt;</span><br><span class="line">    &lt;/pluginManagement&gt;</span><br><span class="line">  &lt;/build&gt;</span><br><span class="line">&lt;/project&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>maven的高级之初在于它会帮你导入这个jar包所依赖的其他jar包</strong></p>
<p>maven由于他的约定大于配置，我们之后可能会遇到我们写的配置文件，无法被导出或者生效的问题，解决方案：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--在build中配置resources,来防止我们资源导出失败的问题--&gt;  </span><br><span class="line">&lt;build&gt; </span><br><span class="line">  &lt;resources&gt;</span><br><span class="line">    &lt;resource&gt;</span><br><span class="line">      &lt;directory&gt;src/main/resources&lt;/directory&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">        &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class="line">        &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class="line">      &lt;/includes&gt;</span><br><span class="line">      &lt;filtering&gt;false&lt;/filtering&gt;</span><br><span class="line">    &lt;/resource&gt;</span><br><span class="line">    &lt;resource&gt;</span><br><span class="line">      &lt;directory&gt;src/main/java&lt;/directory&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">        &lt;include&gt;**/*.properties&lt;/include&gt;</span><br><span class="line">        &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class="line">      &lt;/includes&gt;</span><br><span class="line">      &lt;filtering&gt;false&lt;/filtering&gt;</span><br><span class="line">    &lt;/resource&gt;</span><br><span class="line">  &lt;/resources&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure>



<h3 id="idea操作"><a href="#idea操作" class="headerlink" title="idea操作"></a>idea操作</h3><p>目录树</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152037177.png" alt="image-20220715203746124"></p>
<p>maven中jar的联系关联图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152037684.png" alt="image-20220715203759632"></p>
<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><h3 id="Servlet简介"><a href="#Servlet简介" class="headerlink" title="Servlet简介"></a>Servlet简介</h3><ul>
<li>Servlet就是sun公司开发动态web的一门技术</li>
<li>Sun在这些APi中提供一个接口叫做：Servlet，如果你想开发一个Servlet程序，只需要完成两个小步骤：<ul>
<li>编写一个类，实现Serlet接口</li>
<li>把开发好java类部署到web服务器中。</li>
</ul>
</li>
</ul>
<p>把实现了Servlet接口的Java程序叫做，Servlet</p>
<h3 id="HelloServlet"><a href="#HelloServlet" class="headerlink" title="HelloServlet"></a>HelloServlet</h3><p>Serlvet接口Sun公司有两个默认的实现类：HttpServlet，GenericServled</p>
<ol>
<li>构建一个普通的Maven项目，等理面的sc目录，以后我们的学习就在这个项目里面建立Moudel；这个空的工程就题Maven主工程；</li>
<li>关于Maven父子工程的理解；</li>
</ol>
<p>父项目中会有:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>servlet-01<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子项目中会有：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaweb-02-servlet<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.linglan<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>项目中的 Java 子项目可以直接使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">son extends father</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>Maven环境优化</p>
</li>
<li><p>修改web.xml为最新的</p>
</li>
<li><p>将maven的结构搭建完整</p>
</li>
<li><p>编写一个Servlet程序</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152042900.png" alt="image-20210822154732934"></p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152040134.png" alt="image-20220715204047068"></p>
<ol>
<li>编写一个普通类</li>
<li>实现Servlet接口，这里我们直接继承HttpServlet</li>
</ol>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">    </span><br><span class="line">    //由于get或者post只是请求实现的不同的方式，可以相互调用，业务逻辑都一样；</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        //ServletOutputStream outputStream = resp.getOutputStream();</span><br><span class="line">        PrintWriter writer = resp.getWriter(); //响应流</span><br><span class="line">        writer.print(&quot;Hello,Serlvet&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>编写 Servlet 的映射<br>为什么需要映射：我们写的是 Java 程序，但是要通过浏览器访问，而浏览器需要连接 Web 服务器，所以我们需要再 Web 服务中注册我们写的 Servlet，还需给他一个浏览器能够访问的路径；</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--注册Servlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.linglan.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Servlet的请求路径--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>配置 Tomcat<br>点击编辑，+ 号，选择本地的 Tomcat</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152041511.png" alt="image-20220715204139428"></p>
<ol start="7">
<li>启动测试！</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152044650.png" alt="image-20210822163233073"></p>
<h3 id="Servlet-原理"><a href="#Servlet-原理" class="headerlink" title="Servlet 原理"></a>Servlet 原理</h3><p>Servlet 是由 Web 服务器调用，Web 服务器在收到浏览器请求之后，会：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012489.png" alt="img"></p>
<h3 id="Mapping问题"><a href="#Mapping问题" class="headerlink" title="Mapping问题"></a>Mapping问题</h3><ol>
<li>一个Servlet可以指定一个映射路径</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>一个Servlet可以指定一个映射路径</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello1&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello2&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello3&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello4&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello5&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>一个Servlet也可以指定通过映射路径</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello/*&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>默认请求路径</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--默认请求路径--&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>指定一些后缀或者前缀等…</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--可以自定义后缀实现请求映射</span><br><span class="line">    注意点，*前面不能加项目映射的路径</span><br><span class="line">    hello/sajdlkajda.qinjiang</span><br><span class="line">    --&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;*.qinjiang&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>优先级问题<br>指定了固有的映射路径优先级最高，如果找不到就会走默认的处理请求；</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--404--&gt;</span><br><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;error&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.linglan.servlet.ErrorServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;error&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h3><p>Web 容器在启动的时候，它会为每个 Web 程序都创建一个对应的 ServletContext 对象，它代表了当前的 Web 应用;</p>
<h4 id="共享数据"><a href="#共享数据" class="headerlink" title="共享数据"></a>共享数据</h4><p>在一个 servlet 中保存的数据，可以在另一个 servlet 中拿到；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class HelloServlet extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        </span><br><span class="line">        //this.getInitParameter()   初始化参数</span><br><span class="line">        //this.getServletConfig()   Servlet配置</span><br><span class="line">        //this.getServletContext()  Servlet上下文</span><br><span class="line">        ServletContext context = this.getServletContext();</span><br><span class="line"></span><br><span class="line">        String username = &quot;秦疆&quot;; //数据</span><br><span class="line">        context.setAttribute(&quot;username&quot;,username); //将一个数据保存在了ServletContext中，名字为：username 。值 username</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class GetServlet extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        ServletContext context = this.getServletContext();</span><br><span class="line">        String username = (String) context.getAttribute(&quot;username&quot;);</span><br><span class="line"></span><br><span class="line">        resp.setContentType(&quot;text/html&quot;);</span><br><span class="line">        resp.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">        resp.getWriter().print(&quot;名字&quot;+username);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.linglan.servlet.HelloServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;getc&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;com.linglan.servlet.GetServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;getc&lt;/servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;/getc&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="获取初始化参数"><a href="#获取初始化参数" class="headerlink" title="获取初始化参数"></a>获取初始化参数</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--配置一些web应用初始化参数--&gt;</span><br><span class="line">&lt;context-param&gt;</span><br><span class="line">    &lt;param-name&gt;url&lt;/param-name&gt;</span><br><span class="line">    &lt;param-value&gt;jdbc:mysql://localhost:3306/mybatis&lt;/param-value&gt;</span><br><span class="line">&lt;/context-param&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">    ServletContext context = this.getServletContext();</span><br><span class="line">    String url = context.getInitParameter(&quot;url&quot;);</span><br><span class="line">    resp.getWriter().print(url);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="请求转发"><a href="#请求转发" class="headerlink" title="请求转发"></a>请求转发</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">    ServletContext context = this.getServletContext();</span><br><span class="line">    System.out.println(&quot;进入了ServletDemo04&quot;);</span><br><span class="line">    //RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/gp&quot;); //转发的请求路径</span><br><span class="line">    //requestDispatcher.forward(req,resp); //调用forward实现请求转发；</span><br><span class="line">    context.getRequestDispatcher(&quot;/gp&quot;).forward(req,resp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012495.png" alt="img"></p>
<h4 id="读取资源文件"><a href="#读取资源文件" class="headerlink" title="读取资源文件"></a>读取资源文件</h4><p>Properties</p>
<ul>
<li>在 java 目录下新建 properties</li>
<li>在 resources 目录下新建 properties</li>
</ul>
<p>发现：都被打包到了同一个路径下：classes，我们俗称这个路径为classpath:</p>
<p>思路：需要一个文件流；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">uername=name</span><br><span class="line">password=123456</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class ServletDemo05 extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        InputStream is = this.getServletContext().getResourceAsStream(&quot;/WEB-INF/classes/com/linglan/servlet/aa.properties&quot;);</span><br><span class="line"></span><br><span class="line">        Properties prop = new Properties();</span><br><span class="line">        prop.load(is);</span><br><span class="line">        String user = prop.getProperty(&quot;username&quot;);</span><br><span class="line">        String pwd = prop.getProperty(&quot;password&quot;);</span><br><span class="line"></span><br><span class="line">        resp.getWriter().print(user+&quot;:&quot;+pwd);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h3><p>Web 服务器接收到客户端的 http 请求，针对这个请求，分别创建一个代表请求的 HttpServletRequest 对象，代表响应的一个 HttpServletResponse；</p>
<ul>
<li>如果想要获取客户端请求过来的参数：找 HttpServletRequest</li>
<li>如果要给客户端响应一些信息：找 HttpServletResponse</li>
</ul>
<h4 id="简单分类"><a href="#简单分类" class="headerlink" title="简单分类"></a>简单分类</h4><p>负责向浏览器发送数据的方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ServletOutputStream getOutputStream() throws IOException;</span><br><span class="line">PrintWriter getWriter() throws IOException;</span><br></pre></td></tr></table></figure>

<p>负责向浏览器发送响应头的方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void setCharacterEncoding(String var1);</span><br><span class="line"></span><br><span class="line">void setContentLength(int var1);</span><br><span class="line"></span><br><span class="line">void setContentLengthLong(long var1);</span><br><span class="line"></span><br><span class="line">void setContentType(String var1);</span><br><span class="line"></span><br><span class="line">void setDateHeader(String var1, long var2);</span><br><span class="line"></span><br><span class="line">void addDateHeader(String var1, long var2);</span><br><span class="line"></span><br><span class="line">void setHeader(String var1, String var2);</span><br><span class="line"></span><br><span class="line">void addHeader(String var1, String var2);</span><br><span class="line"></span><br><span class="line">void setIntHeader(String var1, int var2);</span><br><span class="line"></span><br><span class="line">void addIntHeader(String var1, int var2);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>响应的状态码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int SC_CONTINUE = 100;</span><br><span class="line">   int SC_SWITCHING_PROTOCOLS = 101;</span><br><span class="line">   int SC_OK = 200;</span><br><span class="line">   int SC_CREATED = 201;</span><br><span class="line">   int SC_ACCEPTED = 202;</span><br><span class="line">   int SC_NON_AUTHORITATIVE_INFORMATION = 203;</span><br><span class="line">   int SC_NO_CONTENT = 204;</span><br><span class="line">   int SC_RESET_CONTENT = 205;</span><br><span class="line">   int SC_PARTIAL_CONTENT = 206;</span><br><span class="line">   int SC_MULTIPLE_CHOICES = 300;</span><br><span class="line">   int SC_MOVED_PERMANENTLY = 301;</span><br><span class="line">   int SC_MOVED_TEMPORARILY = 302;</span><br><span class="line">   int SC_FOUND = 302;</span><br><span class="line">   int SC_SEE_OTHER = 303;</span><br><span class="line">   int SC_NOT_MODIFIED = 304;</span><br><span class="line">   int SC_USE_PROXY = 305;</span><br><span class="line">   int SC_TEMPORARY_REDIRECT = 307;</span><br><span class="line">   int SC_BAD_REQUEST = 400;</span><br><span class="line">   int SC_UNAUTHORIZED = 401;</span><br><span class="line">   int SC_PAYMENT_REQUIRED = 402;</span><br><span class="line">   int SC_FORBIDDEN = 403;</span><br><span class="line">   int SC_NOT_FOUND = 404;</span><br><span class="line">   int SC_METHOD_NOT_ALLOWED = 405;</span><br><span class="line">   int SC_NOT_ACCEPTABLE = 406;</span><br><span class="line">   int SC_PROXY_AUTHENTICATION_REQUIRED = 407;</span><br><span class="line">   int SC_REQUEST_TIMEOUT = 408;</span><br><span class="line">   int SC_CONFLICT = 409;</span><br><span class="line">   int SC_GONE = 410;</span><br><span class="line">   int SC_LENGTH_REQUIRED = 411;</span><br><span class="line">   int SC_PRECONDITION_FAILED = 412;</span><br><span class="line">   int SC_REQUEST_ENTITY_TOO_LARGE = 413;</span><br><span class="line">   int SC_REQUEST_URI_TOO_LONG = 414;</span><br><span class="line">   int SC_UNSUPPORTED_MEDIA_TYPE = 415;</span><br><span class="line">   int SC_REQUESTED_RANGE_NOT_SATISFIABLE = 416;</span><br><span class="line">   int SC_EXPECTATION_FAILED = 417;</span><br><span class="line">   int SC_INTERNAL_SERVER_ERROR = 500;</span><br><span class="line">   int SC_NOT_IMPLEMENTED = 501;</span><br><span class="line">   int SC_BAD_GATEWAY = 502;</span><br><span class="line">   int SC_SERVICE_UNAVAILABLE = 503;</span><br><span class="line">   int SC_GATEWAY_TIMEOUT = 504;</span><br><span class="line">   int SC_HTTP_VERSION_NOT_SUPPORTED = 505;</span><br></pre></td></tr></table></figure>

<h4 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h4><p>给浏览器输出消息</p>
<p>下载文件</p>
<p>1.要获取下载文件的路径<br>2.下载的文件名是什么？<br>3.设置浏览器使其支持下载的内容<br>4.获取下载文件的输入流<br>5.创建缓冲区<br>6.获取 OutputStream 对象<br>7.将 FileOutputStream 写入到 buffer缓冲区<br>8.使用 OutputStream 将缓冲区中的数据输出到客户端</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">    // 1. 要获取下载文件的路径</span><br><span class="line">    String realPath = &quot;C:\UserStockpile\Blogger\wj\1.png&quot;;</span><br><span class="line">    System.out.println(&quot;下载文件的路径：&quot;+realPath);</span><br><span class="line">    // 2. 下载的文件名是啥？</span><br><span class="line">    String fileName = realPath.substring(realPath.lastIndexOf(&quot;\\&quot;) + 1);</span><br><span class="line">    // 3. 设置想办法让浏览器能够支持(Content-Disposition)下载我们需要的东西,中文文件名URLEncoder.encode编码，否则有可能乱码</span><br><span class="line">    resp.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=&quot;+URLEncoder.encode(fileName,&quot;UTF-8&quot;));</span><br><span class="line">    // 4. 获取下载文件的输入流</span><br><span class="line">    FileInputStream in = new FileInputStream(realPath);</span><br><span class="line">    // 5. 创建缓冲区</span><br><span class="line">    int len = 0;</span><br><span class="line">    byte[] buffer = new byte[1024];</span><br><span class="line">    // 6. 获取OutputStream对象</span><br><span class="line">    ServletOutputStream out = resp.getOutputStream();</span><br><span class="line">    // 7. 将FileOutputStream流写入到buffer缓冲区,使用OutputStream将缓冲区中的数据输出到客户端！</span><br><span class="line">    while ((len=in.read(buffer))&gt;0)&#123;</span><br><span class="line">        out.write(buffer,0,len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    in.close();</span><br><span class="line">    out.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现重定向"><a href="#实现重定向" class="headerlink" title="实现重定向"></a>实现重定向</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012496.png" alt="img"></p>
<p>Web 资源 B 收到客户端 A 请求后，通知 A 访问另一个 Web 资源 C ，这个过程叫做重定向</p>
<p>常见场景：</p>
<ul>
<li>用户登录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void sendRedirect(String var1) throws IOException;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">        resp.setHeader(&quot;Location&quot;,&quot;/r/img&quot;);</span><br><span class="line">        resp.setStatus(302);</span><br><span class="line">         */</span><br><span class="line">    resp.sendRedirect(&quot;/r/img&quot;);//重定向</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重定向和转发的区别</p>
<p>相同点：</p>
<ul>
<li>页面都会实现跳转</li>
</ul>
<p>不同点:</p>
<ul>
<li>请求转发的时候,URL不会发生变化.</li>
<li>重定向的时候,URL地址栏会发生变化.</li>
</ul>
<p>转发</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012495.png" alt="img"></p>
<p>重定向</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152012496.png" alt="img"></p>
<h4 id="简单实现登录重定向"><a href="#简单实现登录重定向" class="headerlink" title="简单实现登录重定向"></a>简单实现登录重定向</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%--这里提交的路径，需要寻找到项目的路径--%&gt;</span><br><span class="line">&lt;%--$&#123;pageContext.request.contextPath&#125;代表当前的项目--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;$&#123;pageContext.request.contextPath&#125;/login&quot; method=&quot;get&quot;&gt;</span><br><span class="line">    用户名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; &lt;br&gt;</span><br><span class="line">    密码：&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">    //处理请求</span><br><span class="line">    String username = req.getParameter(&quot;username&quot;);</span><br><span class="line">    String password = req.getParameter(&quot;password&quot;);</span><br><span class="line"></span><br><span class="line">    System.out.println(username+&quot;:&quot;+password);</span><br><span class="line"></span><br><span class="line">    //重定向时候一定要注意，路径问题，否则404；</span><br><span class="line">    resp.sendRedirect(&quot;/r/success.jsp&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">  &lt;servlet-name&gt;requset&lt;/servlet-name&gt;</span><br><span class="line">  &lt;servlet-class&gt;com.linglan.servlet.RequestTest&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet-name&gt;requset&lt;/servlet-name&gt;</span><br><span class="line">  &lt;url-pattern&gt;/login&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">  &lt;servlet-name&gt;requset&lt;/servlet-name&gt;</span><br><span class="line">  &lt;servlet-class&gt;com.linglan.servlet.RequestTest&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet-name&gt;requset&lt;/servlet-name&gt;</span><br><span class="line">  &lt;url-pattern&gt;/login&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Success&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="HttpServletRequest-获取参数，请求转发"><a href="#HttpServletRequest-获取参数，请求转发" class="headerlink" title="HttpServletRequest 获取参数，请求转发"></a>HttpServletRequest 获取参数，请求转发</h3><p>HttpServletRequest 代表客户端的请求，用户通过 HTTP 协议访问服务器，HTTP 请求中的所有信息会被封装到 HttpServletRequest ，通过这个HttpServletRequest 的方法，获得客户端的所有信息；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152048078.png" alt="76cb3b2e8b35e4db8153c7a49b8dfe2"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152048688.png" alt="0c14810acd43a44dcb5da5eb76df9dd"></p>
<p>获取参数、请求转发</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152050815.png" alt="a832044777ccee1a1171d0150838fcd"></p>
<p>index.jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;登录&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;登录&lt;/h1&gt;</span><br><span class="line">&lt;div style=&quot;text-align: center&quot;&gt;</span><br><span class="line">    &lt;form action=&quot;$&#123;pageContext.request.contextPath&#125;/login&quot; method=&quot;post&quot;&gt;</span><br><span class="line">        用户名：&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;</span><br><span class="line">        密码：&lt;input type=&quot;password&quot; name=&quot;pwd&quot;/&gt;&lt;br/&gt;</span><br><span class="line">        爱好：</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobbies&quot; value=&quot;看电影&quot;/&gt;看电影</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobbies&quot; value=&quot;阅读&quot;/&gt;阅读</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobbies&quot; value=&quot;打电动&quot;/&gt;打电动</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobbies&quot; value=&quot;摄影&quot;/&gt;摄影</span><br><span class="line">        &lt;br/&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot;/&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>success.jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;success&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;登录成功&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>login<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/login<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>login<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.linglan.req.LoginServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    req.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">    resp.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line"></span><br><span class="line">    String username = req.getParameter(&quot;username&quot;);</span><br><span class="line">    String password = req.getParameter(&quot;password&quot;);</span><br><span class="line">    String[] hobbys = req.getParameterValues(&quot;hobbys&quot;);</span><br><span class="line">    System.out.println(&quot;=============================&quot;);</span><br><span class="line">    //后台接收中文乱码问题</span><br><span class="line">    System.out.println(username);</span><br><span class="line">    System.out.println(password);</span><br><span class="line">    System.out.println(Arrays.toString(hobbys));</span><br><span class="line">    System.out.println(&quot;=============================&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    System.out.println(req.getContextPath());</span><br><span class="line">    //通过请求转发</span><br><span class="line">    //这里的 / 代表当前的web应用</span><br><span class="line">    req.getRequestDispatcher(&quot;/success.jsp&quot;).forward(req,resp);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">  @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152050202.png" alt="image-20210910135932925"></p>
<h2 id="Cookie、Session"><a href="#Cookie、Session" class="headerlink" title="Cookie、Session"></a>Cookie、Session</h2><h3 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h3><p><strong>会话</strong>：用户打开一个浏览器，点击了很多超链接，访问多个 Web 资源，关闭浏览器，这个过程可以称之为会话；</p>
<p><strong>一个网站，怎么证明你来过？</strong></p>
<p>客户端 服务端<br>服务端给客户端一个 信件，客户端下次访问服务端带上信件就可以了； cookie</p>
<p>客户端 ： 服务端给客户端一个 信件，客户端下次访问服务端带上信件就可以了； cookie<br>服务端：服务器登记你来过了，下次你来的时候我来匹配你； seesion</p>
<h3 id="保存会话的两种技术"><a href="#保存会话的两种技术" class="headerlink" title="保存会话的两种技术"></a>保存会话的两种技术</h3><p><strong>cookie</strong></p>
<ul>
<li>客户端技术（响应，请求）</li>
</ul>
<p><strong>session</strong></p>
<ul>
<li>服务器技术，利用这个技术，可以保存用户的会话信息？可将信息或数据放在 session 中</li>
</ul>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152051704.png" alt="5575f9e3fc32429d9bc71ca80ff66fe"></p>
<ol>
<li>从请求中拿到 cookie 信息</li>
<li>服务器响应给客户端 cookie</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cookie[] cookies = req.getCookies(); //获得Cookie</span><br><span class="line">cookie.getName(); //获得cookie中的key</span><br><span class="line">cookie.getValue(); //获得cookie中的vlaue</span><br><span class="line">new Cookie(&quot;lastLoginTime&quot;, System.currentTimeMillis()+&quot;&quot;); //新建一个cookie</span><br><span class="line">cookie.setMaxAge(24*60*60); //设置cookie的有效期</span><br><span class="line">resp.addCookie(cookie); //响应给客户端一个cookie</span><br></pre></td></tr></table></figure>

<p><strong>cookie ： 一般会保存在本地的用户目录下 appdata ；</strong></p>
<ul>
<li>一个 Web 站点可以给浏览器发送多个 Cookie，最多存放 20 个 cookie；</li>
<li>cookie 大小有限制 4kb；</li>
<li>300 个 cookie 浏览器上限</li>
</ul>
<p><strong>删除 Cookie；</strong></p>
<ul>
<li>不设置有效期，关闭浏览器，自动失效；</li>
<li>设置有效期为 0；</li>
</ul>
<p><strong>编码解码：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">URLEncoder.encode(&quot;铃兰&quot;,&quot;utf-8&quot;)</span><br><span class="line">URLDecoder.decode(cookie.getValue(),&quot;UTF-8&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="Session（重点）"><a href="#Session（重点）" class="headerlink" title="Session（重点）"></a>Session（重点）</h3><p>什么是session？</p>
<ul>
<li>服务器会给每一个用户（浏览器）创建一个 Session 对象；</li>
<li>一个 Session 独占一个浏览器，只要浏览器没有关闭，这个 Session 就存在；</li>
<li>用户登录之后，整个网站它都可以访问！-&gt; 保存用户的信息；保存购物车的信息…</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152051666.png" alt="image-20210914175131558"></p>
<p>Session 和 cookie 的区别：</p>
<ul>
<li>Cookie是把用户的数据写给用户的浏览器，浏览器保存 （可以保存多个）</li>
<li>Session把用户的数据写到用户独占Session中，服务器端保存 （保存重要的信息，减少服务器资源的浪费）</li>
<li>Session 对象由服务创建；</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152053465.png" alt="image-20210916151638102"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152053692.png" alt="image-20210916151719750"></p>
<p>使用场景：</p>
<ul>
<li>保存一个登录用户的信息；</li>
<li>购物车信息；</li>
<li>在整个网站中经常会使用的数据，我们将它保存在 Session 中；</li>
</ul>
<p>使用 Session：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.linglan.servlet;</span><br><span class="line"></span><br><span class="line">import com.linglan.pojo.Person;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class SessionDemo01 extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        </span><br><span class="line">        //解决乱码问题</span><br><span class="line">        req.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">        resp.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">        resp.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br><span class="line">        </span><br><span class="line">        //得到Session</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        //给Session中存东西</span><br><span class="line">        session.setAttribute(&quot;name&quot;,new Person(&quot;铃兰&quot;,1));</span><br><span class="line">        //获取Session的ID</span><br><span class="line">        String sessionId = session.getId();</span><br><span class="line"></span><br><span class="line">        //判断Session是不是新创建</span><br><span class="line">        if (session.isNew())&#123;</span><br><span class="line">            resp.getWriter().write(&quot;session创建成功,ID:&quot;+sessionId);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            resp.getWriter().write(&quot;session以及在服务器中存在了,ID:&quot;+sessionId);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //Session创建的时候做了什么事情；</span><br><span class="line">//        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;,sessionId);</span><br><span class="line">//        resp.addCookie(cookie);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//得到Session</span><br><span class="line">HttpSession session = req.getSession();</span><br><span class="line"></span><br><span class="line">Person person = (Person) session.getAttribute(&quot;name&quot;);</span><br><span class="line"></span><br><span class="line">System.out.println(person.toString());</span><br><span class="line"></span><br><span class="line">HttpSession session = req.getSession();</span><br><span class="line">session.removeAttribute(&quot;name&quot;);</span><br><span class="line">//手动注销Session</span><br><span class="line">session.invalidate();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>会话自动过期：web.xml 配置</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--设置Session默认的失效时间--&gt;</span><br><span class="line">&lt;session-config&gt;</span><br><span class="line">    &lt;!--15分钟后Session自动失效，以分钟为单位--&gt;</span><br><span class="line">    &lt;session-timeout&gt;15&lt;/session-timeout&gt;</span><br><span class="line">&lt;/session-config&gt;</span><br></pre></td></tr></table></figure>

<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><h3 id="什么-JSP"><a href="#什么-JSP" class="headerlink" title="什么 JSP"></a>什么 JSP</h3><p>Java Server Pages ： Java服务器端页面，也和Servlet一样，用于动态Web技术！</p>
<p>最大的特别：</p>
<ul>
<li>写jsp就像在写html</li>
<li>区别：<ul>
<li>html只给用户提供静态数据</li>
<li>jsp页面中可以嵌入java代码，为用户提供动态数据</li>
</ul>
</li>
</ul>
<h3 id="JSP原理"><a href="#JSP原理" class="headerlink" title="JSP原理"></a>JSP原理</h3><p>思路：jsp到底怎么执行的？</p>
<ul>
<li>代码层面看不出啥（jsp）</li>
<li>服务器内部工作</li>
</ul>
<p>tomcat中有一个work目录</p>
<p>idea使用tomcat的会在idea的tomcat中生产一个work目录</p>
<p>发现页面转变了java程序！</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152056363.png" alt="08f56002fc766d212f4b82f6ed99610"></p>
<p><strong>浏览器向服务器发送请求，不管访问什么资源，其实都是在访问servlet</strong></p>
<p>JSP 最终也会被转换成一个 Java 类</p>
<p>JSP 本质上就是一个 Servlet</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase</span><br><span class="line">    implements org.apache.jasper.runtime.JspSourceDependent,</span><br><span class="line">                 org.apache.jasper.runtime.JspSourceImports &#123;</span><br><span class="line">                     </span><br><span class="line">                 &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public abstract class HttpJspBase extends HttpServlet implements HttpJspPage &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152058366.png" alt="image-20220715205804292"></p>
<p>源码分析</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase</span><br><span class="line">    implements org.apache.jasper.runtime.JspSourceDependent,</span><br><span class="line">                 org.apache.jasper.runtime.JspSourceImports &#123;</span><br><span class="line">  //初始化      </span><br><span class="line">  public void _jspInit() &#123;</span><br><span class="line">  &#125;</span><br><span class="line">  //销毁</span><br><span class="line">  public void _jspDestroy() &#123;</span><br><span class="line">  &#125;</span><br><span class="line">  //jsp service</span><br><span class="line">  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)</span><br><span class="line">      throws java.io.IOException, javax.servlet.ServletException &#123;</span><br><span class="line">      //1.请求方式判断  </span><br><span class="line">      //...</span><br><span class="line">      //2.内置一些对象</span><br><span class="line">    final javax.servlet.jsp.PageContext pageContext;//页面上下本</span><br><span class="line">    javax.servlet.http.HttpSession session = null;//session</span><br><span class="line">    final javax.servlet.ServletContext application;//applicationContext</span><br><span class="line">    final javax.servlet.ServletConfig config;//config</span><br><span class="line">    javax.servlet.jsp.JspWriter out = null;//out</span><br><span class="line">    final java.lang.Object page = this;//page:当前</span><br><span class="line">      //...</span><br><span class="line">      //3.输出页面前增加的代码</span><br><span class="line">      response.setContentType(&quot;text/html&quot;);//设置响应页面类型</span><br><span class="line">      pageContext = _jspxFactory.getPageContext(this, request, response,</span><br><span class="line">      			null, true, 8192, true);</span><br><span class="line">      _jspx_page_context = pageContext;</span><br><span class="line">      application = pageContext.getServletContext();</span><br><span class="line">      config = pageContext.getServletConfig();</span><br><span class="line">      session = pageContext.getSession();</span><br><span class="line">      out = pageContext.getOut();</span><br><span class="line">      _jspx_out = out;</span><br><span class="line">      //4.以上的这些个对象我们可以在jsp中直接使用。</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152058976.png" alt="7e9b00dbe4def2a327bc7a696b70855"></p>
<p>在jsp页面中</p>
<p>只要是java代码就会原封不动的输出</p>
<p>如果是html代码，就会被转换为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">out.write(&quot;    &lt;title&gt;Title&lt;/title&gt;\r\n&quot;);</span><br></pre></td></tr></table></figure>

<p>这样的格式，输出到前端！</p>
<h3 id="JSP-基础语法和指令"><a href="#JSP-基础语法和指令" class="headerlink" title="JSP 基础语法和指令"></a>JSP 基础语法和指令</h3><p>任何语言都有自己的语法，java有，jsp作为java技术的一种应用，它拥有一些自己扩充的语法（了解，知道即可），java所有语法都支持。</p>
<p>新建一个项目</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152059846.png" alt="image-20220715205924772"></p>
<p>导包pom.xml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;com.linglan&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;javaweb-jsp&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;!--        servlet依赖--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.5&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--        jsp依赖--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.3.3&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--        jstl依赖--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--      standard标签库  --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;taglibs&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;standard&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.1.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>

<h4 id="JSP-表达式"><a href="#JSP-表达式" class="headerlink" title="JSP 表达式"></a>JSP 表达式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%--JSP表达式</span><br><span class="line">作用：用来将程序的输出，输出到客户端</span><br><span class="line">&lt;%= 变量或者表达式%&gt;</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%= new java.util.Date()%&gt;</span><br></pre></td></tr></table></figure>

<h4 id="JSP-脚本片段"><a href="#JSP-脚本片段" class="headerlink" title="JSP 脚本片段"></a>JSP 脚本片段</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%--jsp脚本片段--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  int sum = 0;</span><br><span class="line">  for (int i = 1; i &lt;=100 ; i++) &#123;</span><br><span class="line">    sum+=i;</span><br><span class="line">  &#125;</span><br><span class="line">  out.println(&quot;&lt;h1&gt;Sum=&quot;+sum+&quot;&lt;/h1&gt;&quot;);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<h4 id="脚本片段的在实现"><a href="#脚本片段的在实现" class="headerlink" title="脚本片段的在实现"></a>脚本片段的在实现</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;br/&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  int i = 5;</span><br><span class="line">  out.print(&quot;i=&quot; + i);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;br/&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  i += 5;</span><br><span class="line">  out.print(&quot;i=&quot; + i);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--在代码中嵌入html元素--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  for (int j = 0; j &lt; 5; j++) &#123;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;h2&gt;hello&lt;%=j%&gt;&lt;/h2&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<h4 id="JSP-声明"><a href="#JSP-声明" class="headerlink" title="JSP 声明"></a>JSP 声明</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">  static &#123;</span><br><span class="line">    System.out.println(&quot;Loading Servlet!&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private int globalVar = 0;</span><br><span class="line"></span><br><span class="line">  public void kuang()&#123;</span><br><span class="line">    System.out.println(&quot;进入了方法Kuang！&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>jsp声明，会被编译到jsp生成java代码的类中！其他的，就会被生成到_jspService方法中！</p>
<p>在jsp，嵌入java代码即可</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%%&gt;</span><br><span class="line">&lt;%=%&gt;</span><br><span class="line">&lt;%!%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--注释--%&gt;</span><br></pre></td></tr></table></figure>

<p>发现：jsp的注释，不会在客户端显示，html会！</p>
<h4 id="JSP-指令"><a href="#JSP-指令" class="headerlink" title="JSP 指令"></a>JSP 指令</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@page args.... %&gt;</span><br><span class="line">&lt;%@include file=&quot;&quot;%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--@include会将两个页面合二为一--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@include file=&quot;common/header.jsp&quot;%&gt;</span><br><span class="line">&lt;h1&gt;网页主体&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@include file=&quot;common/footer.jsp&quot;%&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--jSP标签</span><br><span class="line">    jsp:include：拼接页面，本质还是三个</span><br><span class="line">    --%&gt;</span><br><span class="line">&lt;jsp:include page=&quot;/common/header.jsp&quot;/&gt;</span><br><span class="line">&lt;h1&gt;网页主体&lt;/h1&gt;</span><br><span class="line">&lt;jsp:include page=&quot;/common/footer.jsp&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="九大内置对象"><a href="#九大内置对象" class="headerlink" title="九大内置对象"></a>九大内置对象</h4><ul>
<li>PageContext 存东西</li>
<li>Request 存东西</li>
<li>Response</li>
<li>Session 存东西</li>
<li>Application 【ServletContext】 存东西</li>
<li>config 【ServletConfig】</li>
<li>out</li>
<li>page</li>
<li>exception</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pageContext.setAttribute(&quot;name1&quot;,&quot;铃兰1号&quot;); //保存的数据只在一个页面中有效</span><br><span class="line">request.setAttribute(&quot;name2&quot;,&quot;铃兰2号&quot;); //保存的数据只在一次请求中有效，请求转发会携带这个数据</span><br><span class="line">session.setAttribute(&quot;name3&quot;,&quot;铃兰3号&quot;); //保存的数据只在一次会话中有效，从打开浏览器到关闭浏览器</span><br><span class="line">application.setAttribute(&quot;name4&quot;,&quot;铃兰4号&quot;);  //保存的数据只在服务器中有效，从打开服务器到关闭服务器</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>request：客户端向服务器发送请求，产生的数据，用户看完就没用了，比如：新闻，用户看完没用的！</p>
<p>session：客户端向服务器发送请求，产生的数据，用户用完一会还有用，比如：购物车；</p>
<p>application：客户端向服务器发送请求，产生的数据，一个用户用完了，其他用户还可能使用，比如：聊天数据；</p>
<h4 id="JSP标签、JSTL标签、EL表达式"><a href="#JSP标签、JSTL标签、EL表达式" class="headerlink" title="JSP标签、JSTL标签、EL表达式"></a>JSP标签、JSTL标签、EL表达式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- JSTL表达式的依赖 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- standard标签库 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;taglibs&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;standard&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>EL 表达式： ${}</p>
<ul>
<li>获取数据</li>
<li>执行运算</li>
<li>获取 Web 开发的常用对象</li>
</ul>
<p>JSP 标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%--jsp:include--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">http://localhost:8080/jsptag.jsp?name=linglan&amp;age=12</span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:forward page=&quot;/jsptag2.jsp&quot;&gt;</span><br><span class="line">    &lt;jsp:param name=&quot;name&quot; value=&quot;linglan&quot;&gt;&lt;/jsp:param&gt;</span><br><span class="line">    &lt;jsp:param name=&quot;age&quot; value=&quot;12&quot;&gt;&lt;/jsp:param&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>

<p><strong>JSTL表达式</strong></p>
<p>JSTL 标签库的使用就是为了弥补 HTML 标签的不足；它自定义许多标签，可以供我们使用，标签的功能和 Java 代码一样！</p>
<p><strong>格式化标签</strong></p>
<p><strong>SQL标签</strong></p>
<p><strong>XML 标签</strong></p>
<p><strong>核心标签</strong> （掌握部分）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152100512.png" alt="b7a0bcf5224ba2b1e65967eb4ae6857"></p>
<p><strong>JSTL标签库使用步骤</strong></p>
<ul>
<li>引入对应的 taglib</li>
<li>使用其中的方法</li>
<li><strong>在 Tomcat 也需要引入 JSTL 的包，否则会报错：JSTL 解析错误</strong></li>
</ul>
<p>c: if</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;h4&gt;if测试&lt;/h4&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;coreif.jsp&quot; method=&quot;get&quot;&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    EL表达式获取表单中的数据</span><br><span class="line">    $&#123;param.参数名&#125;</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;$&#123;param.username&#125;&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--判断如果提交的用户名是管理员，则登录成功--%&gt;</span><br><span class="line">&lt;c:if test=&quot;$&#123;param.username==&#x27;admin&#x27;&#125;&quot; var=&quot;isAdmin&quot;&gt;</span><br><span class="line">    &lt;c:out value=&quot;管理员欢迎您！&quot;/&gt;</span><br><span class="line">&lt;/c:if&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--自闭合标签--%&gt;</span><br><span class="line">&lt;c:out value=&quot;$&#123;isAdmin&#125;&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>c:choose c:when</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--定义一个变量score，值为85--%&gt;</span><br><span class="line">&lt;c:set var=&quot;score&quot; value=&quot;55&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;score&gt;=90&#125;&quot;&gt;</span><br><span class="line">        你的成绩为优秀</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;score&gt;=80&#125;&quot;&gt;</span><br><span class="line">        你的成绩为一般</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;score&gt;=70&#125;&quot;&gt;</span><br><span class="line">        你的成绩为良好</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;score&lt;=60&#125;&quot;&gt;</span><br><span class="line">        你的成绩为不及格</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>c:forEach</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">    ArrayList&lt;String&gt; people = new ArrayList&lt;&gt;();</span><br><span class="line">    people.add(0,&quot;张三&quot;);</span><br><span class="line">    people.add(1,&quot;李四&quot;);</span><br><span class="line">    people.add(2,&quot;王五&quot;);</span><br><span class="line">    people.add(3,&quot;赵六&quot;);</span><br><span class="line">    people.add(4,&quot;老六&quot;);</span><br><span class="line">    request.setAttribute(&quot;list&quot;,people);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">var , 每一次遍历出来的变量</span><br><span class="line">items, 要遍历的对象</span><br><span class="line">begin,   哪里开始</span><br><span class="line">end,     到哪里</span><br><span class="line">step,   步长</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;c:forEach var=&quot;people&quot; items=&quot;$&#123;list&#125;&quot;&gt;</span><br><span class="line">    &lt;c:out value=&quot;$&#123;people&#125;&quot;/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach var=&quot;people&quot; items=&quot;$&#123;list&#125;&quot; begin=&quot;1&quot; end=&quot;3&quot; step=&quot;1&quot; &gt;</span><br><span class="line">    &lt;c:out value=&quot;$&#123;people&#125;&quot;/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>

<h2 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h2><p>实体类<br>JavaBean有特定的写法：</p>
<ul>
<li>必须要有一个无参构造</li>
<li>属性必须私有化</li>
<li>必须有对应的get&#x2F;set方法；</li>
</ul>
<p>一般用来和数据库的字段做映射 ORM；</p>
<p>ORM ：对象关系映射</p>
<ul>
<li>表—&gt;类</li>
<li>字段–&gt;属性</li>
<li>行记录—-&gt;对象</li>
</ul>
<table>
<thead>
<tr>
<th align="center">id</th>
<th align="center">name</th>
<th align="center">age</th>
<th align="center">address</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">张三</td>
<td align="center">20</td>
<td align="center">北京</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">李四</td>
<td align="center">19</td>
<td align="center">上海</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">王五</td>
<td align="center">18</td>
<td align="center">深圳</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Student &#123;</span><br><span class="line">    private int id;</span><br><span class="line">    private String name;</span><br><span class="line">    private int age;</span><br><span class="line">    private String address;</span><br><span class="line">    //...省了构造方法和get set 方法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>javabean.jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page import=&quot;com.linglan.pojo.Student&quot; %&gt;</span><br><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">//    Student student = new Student();</span><br><span class="line">//    student.setAddress(&quot;深圳&quot;);</span><br><span class="line">//    student.setAge(18);</span><br><span class="line">//    student.setId(1);</span><br><span class="line">//    student.setName(&quot;linglan&quot;);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:useBean id=&quot;student&quot; class=&quot;com.linglan.pojo.Student&quot; scope=&quot;page&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:setProperty name=&quot;student&quot; property=&quot;address&quot; value=&quot;深圳&quot;/&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;student&quot; property=&quot;age&quot; value=&quot;18&quot;/&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;student&quot; property=&quot;id&quot; value=&quot;1&quot;/&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;student&quot; property=&quot;name&quot; value=&quot;linglan&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  &lt;%=student.getAddress()%&gt;   --%&gt;</span><br><span class="line">地址：&lt;jsp:getProperty name=&quot;student&quot; property=&quot;address&quot;/&gt;</span><br><span class="line">年龄：&lt;jsp:getProperty name=&quot;student&quot; property=&quot;age&quot;/&gt;</span><br><span class="line">id：&lt;jsp:getProperty name=&quot;student&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">姓名：&lt;jsp:getProperty name=&quot;student&quot; property=&quot;name&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="mvc三层架构"><a href="#mvc三层架构" class="headerlink" title="mvc三层架构"></a>mvc三层架构</h2><p>什么是MVC：Model View Controller 模型视图控制器</p>
<h3 id="早些年"><a href="#早些年" class="headerlink" title="早些年"></a>早些年</h3><p>用户直接访问控制层，控制层就可以直接操作数据库</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152101929.png" alt="dc726f8c38e25fc1d2ea00b5779772d"></p>
<p>用户直接访问控制层，控制层就可以直接操作数据库；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">servlet--CRUD--&gt;数据库</span><br><span class="line">弊端：程序十分臃肿，不利于维护  </span><br><span class="line">servlet的代码中：处理请求、响应、视图跳转、处理JDBC、处理业务代码、处理逻辑代码</span><br><span class="line"></span><br><span class="line">架构：没有什么是加一层解决不了的！</span><br><span class="line">程序猿调用</span><br><span class="line">|</span><br><span class="line">JDBC</span><br><span class="line">|</span><br><span class="line">Mysql Oracle SqlServer ....</span><br></pre></td></tr></table></figure>

<h3 id="MVC-三层架构"><a href="#MVC-三层架构" class="headerlink" title="MVC 三层架构"></a>MVC 三层架构</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152101133.png" alt="e161256bd86c26afecbfed9838b9710"></p>
<p>Model</p>
<ul>
<li>业务处理：业务逻辑（Service）</li>
<li>数据持久层：CRUD</li>
</ul>
<p>View</p>
<ul>
<li>展示数据</li>
<li>提供链接发起 Servlet 请求（a,form,img…）</li>
</ul>
<p>Controller （Servlet）</p>
<ul>
<li><p>接收用户的请求：（req：请求参数、Session 信息…）</p>
</li>
<li><p>交给业务层处理对应的代码</p>
</li>
<li><p>控制试图的跳转</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">登录---&gt;接收用户的登录请求---&gt;处理用户的请求（获取用户登录的参数，username，password）----&gt;交给业务层处理登录业务（判断用户名密码是否正确：事务）---&gt;Dao层查询用户名和密码是否正确--&gt;数据库</span><br></pre></td></tr></table></figure>

<h2 id="Filter（重点）"><a href="#Filter（重点）" class="headerlink" title="Filter（重点）"></a>Filter（重点）</h2><p>Filter：过滤器，用来过滤网站的数据；</p>
<ul>
<li>处理中文乱码</li>
<li>登录验证</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152101499.png" alt="c4a1f49d1f6da1acd418aee04995db7"></p>
<p>Filter 开发步骤：</p>
<ol>
<li><p>导包</p>
</li>
<li><p>编写过滤器</p>
<ul>
<li>导包不要错</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/liuloin/lanling_img@main/img/javaweb/202207152101954.png" alt="2b49b12934169f978979f6933377d39"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class CharacterEncodingFilter implements Filter &#123;</span><br><span class="line"></span><br><span class="line">    //初始化：web服务器启动，就以及初始化了，随时等待过滤对象出现！</span><br><span class="line">    public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line">        System.out.println(&quot;CharacterEncodingFilter初始化&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //Chain : 链</span><br><span class="line">    /*</span><br><span class="line">    1. 过滤中的所有代码，在过滤特定请求的时候都会执行</span><br><span class="line">    2. 必须要让过滤器继续同行</span><br><span class="line">        chain.doFilter(request,response);</span><br><span class="line">     */</span><br><span class="line">    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;</span><br><span class="line">        request.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">        response.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">        response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;CharacterEncodingFilter执行前....&quot;);</span><br><span class="line">        chain.doFilter(request,response); //让我们的请求继续走，如果不写，程序到这里就被拦截停止！</span><br><span class="line">        System.out.println(&quot;CharacterEncodingFilter执行后....&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //销毁：web服务器关闭的时候，过滤会销毁</span><br><span class="line">    public void destroy() &#123;</span><br><span class="line">        System.out.println(&quot;CharacterEncodingFilter销毁&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在 web.xml 中配置Filter</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;filter-class&gt;com.kuang.filter.CharacterEncodingFilter&lt;/filter-class&gt;</span><br><span class="line">&lt;/filter&gt;</span><br><span class="line">&lt;filter-mapping&gt;</span><br><span class="line">    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;!--只要是 /servlet的任何请求，会经过这个过滤器--&gt;</span><br><span class="line">    &lt;url-pattern&gt;/servlet/*&lt;/url-pattern&gt;</span><br><span class="line">    &lt;!--&lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span><br><span class="line">&lt;/filter-mapping&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h2><p>实现一个监听器的接口(有N种)</p>
<p>实现一个监听器；</p>
<ol>
<li>编写一个监听器<br>实现监听器的接口…</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//统计网站在线人数 ： 统计session</span><br><span class="line">public class OnlineCountListener implements HttpSessionListener &#123;</span><br><span class="line"></span><br><span class="line">    //创建session监听： 看你的一举一动</span><br><span class="line">    //一旦创建Session就会触发一次这个事件！</span><br><span class="line">    public void sessionCreated(HttpSessionEvent se) &#123;</span><br><span class="line">        ServletContext ctx = se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        System.out.println(se.getSession().getId());</span><br><span class="line"></span><br><span class="line">        Integer onlineCount = (Integer) ctx.getAttribute(&quot;OnlineCount&quot;);</span><br><span class="line"></span><br><span class="line">        if (onlineCount==null)&#123;</span><br><span class="line">            onlineCount = new Integer(1);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            int count = onlineCount.intValue();</span><br><span class="line">            onlineCount = new Integer(count+1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(&quot;OnlineCount&quot;,onlineCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //销毁session监听</span><br><span class="line">    //一旦销毁Session就会触发一次这个事件！</span><br><span class="line">    public void sessionDestroyed(HttpSessionEvent se) &#123;</span><br><span class="line">        ServletContext ctx = se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        Integer onlineCount = (Integer) ctx.getAttribute(&quot;OnlineCount&quot;);</span><br><span class="line"></span><br><span class="line">        if (onlineCount==null)&#123;</span><br><span class="line">            onlineCount = new Integer(0);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            int count = onlineCount.intValue();</span><br><span class="line">            onlineCount = new Integer(count-1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(&quot;OnlineCount&quot;,onlineCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">    Session销毁：</span><br><span class="line">    1. 手动销毁  getSession().invalidate();</span><br><span class="line">    2. 自动销毁</span><br><span class="line">     */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在 web.xml 中注册监听器</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--注册监听器--&gt;</span><br><span class="line">&lt;listener&gt;</span><br><span class="line">    &lt;listener-class&gt;com.linglan.listener.OnlineCountListener&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>看情况是否使用！</li>
</ol>
<h2 id="监听器GUI中理解"><a href="#监听器GUI中理解" class="headerlink" title="监听器GUI中理解"></a>监听器GUI中理解</h2><h3 id="过滤器，监听器常见应用"><a href="#过滤器，监听器常见应用" class="headerlink" title="过滤器，监听器常见应用"></a>过滤器，监听器常见应用</h3><p><strong>监听器：GUI编程中经常使用</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.awt.*;</span><br><span class="line">import java.awt.event.WindowAdapter;</span><br><span class="line">import java.awt.event.WindowEvent;</span><br><span class="line"></span><br><span class="line">public class TestPanel &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Frame frame = new Frame(&quot;测试&quot;);</span><br><span class="line">        Panel panel = new Panel();</span><br><span class="line"></span><br><span class="line">        frame.setLayout(null);</span><br><span class="line">        frame.setBounds(300, 300, 500, 500);</span><br><span class="line">        frame.setBackground(new Color(0, 0, 255));</span><br><span class="line"></span><br><span class="line">        panel.setBounds(50, 50, 300, 300);</span><br><span class="line">        panel.setBackground(new Color(255, 0, 0));</span><br><span class="line"></span><br><span class="line">        frame.add(panel);</span><br><span class="line">        frame.setVisible(true);</span><br><span class="line"></span><br><span class="line">        //添加一个窗口关闭的监听事件</span><br><span class="line">        frame.addWindowListener(new WindowAdapter() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void windowClosing(WindowEvent e) &#123;</span><br><span class="line">                System.exit(0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用户登录之后才能进入主页！用户注销后就不能进入主页了！</p>
<ol>
<li>用户登录后，想session中放入用户信息</li>
<li>进入主页的时候要判断用户是否已经登录（要求：在过滤器中实现）</li>
</ol>
<h2 id="Filter实现权限拦截"><a href="#Filter实现权限拦截" class="headerlink" title="Filter实现权限拦截"></a>Filter实现权限拦截</h2><p>登录页面login.jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;/servlet/login&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>错误页面error.jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;失败&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;没有权限，用户输入有误&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;a href=&quot;login.jsp&quot;&gt;返回登录页面&lt;/a&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>登录接口LoginServlet</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import com.linglan.utils.Constant;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        String userName = req.getParameter(&quot;username&quot;);</span><br><span class="line">        if (&quot;admin&quot;.equals(userName)) &#123;</span><br><span class="line">            //登录成功</span><br><span class="line">            req.getSession().setAttribute(Constant.USER_SESSION, req.getSession().getId());</span><br><span class="line">            //跳转</span><br><span class="line">            resp.sendRedirect(&quot;/sys/success.jsp&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            //登录失败</span><br><span class="line">            resp.sendRedirect(&quot;/error.jsp&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注销页面LogoutServlet</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class LogoutServlet extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        Object userSession = req.getSession().getAttribute(Constant.USER_SESSION);</span><br><span class="line">        if (userSession != null) &#123;</span><br><span class="line">            req.getSession().removeAttribute(Constant.USER_SESSION);</span><br><span class="line">            //跳转到登录页面</span><br><span class="line">            resp.sendRedirect(&quot;/login.jsp&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            //跳转到登录页面</span><br><span class="line">            resp.sendRedirect(&quot;/login.jsp&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常量类Constant</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Constant &#123;</span><br><span class="line"></span><br><span class="line">    public static final String USER_SESSION = &quot;USER_SESSION&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>过滤器LoginFilter</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import com.linglan.utils.Constant;</span><br><span class="line"></span><br><span class="line">import javax.servlet.Filter;</span><br><span class="line">import javax.servlet.FilterChain;</span><br><span class="line">import javax.servlet.FilterConfig;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.ServletRequest;</span><br><span class="line">import javax.servlet.ServletResponse;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class LoginFilter implements Filter &#123;</span><br><span class="line">    public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;</span><br><span class="line">        HttpServletRequest req = (HttpServletRequest) request;</span><br><span class="line">        HttpServletResponse rep = (HttpServletResponse) response;</span><br><span class="line">        Object userSession = req.getSession().getAttribute(Constant.USER_SESSION);</span><br><span class="line">        if (userSession == null) &#123;</span><br><span class="line">            //跳转错误页面</span><br><span class="line">            rep.sendRedirect(&quot;/error.jsp&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void destroy() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接口配置web.xml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span><br><span class="line">         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee</span><br><span class="line">                      http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;</span><br><span class="line">         version=&quot;3.1&quot;</span><br><span class="line">         metadata-complete=&quot;true&quot;&gt;</span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;com.linglan.servlets.HelloServlet&lt;/servlet-class&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/servlet/hello&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;login&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/servlet/login&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;login&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;com.linglan.servlets.LoginServlet&lt;/servlet-class&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;logout&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/servlet/logout&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;logout&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;com.linglan.servlets.LogoutServlet&lt;/servlet-class&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line"></span><br><span class="line">    &lt;filter&gt;</span><br><span class="line">        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">        &lt;filter-class&gt;com.linglan.filters.CharacterEncodingFilter&lt;/filter-class&gt;</span><br><span class="line">    &lt;/filter&gt;</span><br><span class="line"></span><br><span class="line">    &lt;filter-mapping&gt;</span><br><span class="line">        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/servlet/*&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/filter-mapping&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;filter&gt;</span><br><span class="line">        &lt;filter-name&gt;loginFilter&lt;/filter-name&gt;</span><br><span class="line">        &lt;filter-class&gt;com.linglan.filters.LoginFilter&lt;/filter-class&gt;</span><br><span class="line">    &lt;/filter&gt;</span><br><span class="line"></span><br><span class="line">    &lt;filter-mapping&gt;</span><br><span class="line">        &lt;filter-name&gt;loginFilter&lt;/filter-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/sys/*&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/filter-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--    注册监听器--&gt;</span><br><span class="line">    &lt;listener&gt;</span><br><span class="line">        &lt;listener-class&gt;com.linglan.listeners.OnLineCountListener&lt;/listener-class&gt;</span><br><span class="line">    &lt;/listener&gt;</span><br><span class="line"></span><br><span class="line">    &lt;session-config&gt;</span><br><span class="line">        &lt;session-timeout&gt;10&lt;/session-timeout&gt;</span><br><span class="line">    &lt;/session-config&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post_share"><div class="social-share" data-image="https://i.pximg.net/img-master/img/2022/07/14/18/34/38/99719211_p0_master1200.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/54e1373e.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3xk6q.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Mysql</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/20dbfd00.html" title="Java基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/0p/wallhaven-0pj8op.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-24</div><div class="title">Java基础</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">PSPLUSE</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/mydishj" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_47485366?spm=1000.2115.3001.5343" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的世界 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src= "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoZxtxUZA87Z-Xs8oUP1KTlLwaTlDulVpwTIfiXE75CeTdt0Kv_p8E_aB84M57ndM_86E&usqp=CAU"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWeb"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJavaWeb"><span class="toc-number">1.1.</span> <span class="toc-text">什么是JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Javeweb%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">Javeweb基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81Web"><span class="toc-number">1.1.2.</span> <span class="toc-text">静态Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81Web"><span class="toc-number">1.1.3.</span> <span class="toc-text">动态Web</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFB-x2F-S%E3%80%81C-x2F-S%E7%BB%93%E6%9E%84%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">什么是B&#x2F;S、C&#x2F;S结构？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-x2F-S%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.</span> <span class="toc-text">C&#x2F;S结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-x2F-S%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">B&#x2F;S结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.3.</span> <span class="toc-text">Web服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat"><span class="toc-number">1.3.1.</span> <span class="toc-text">Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Tomcat%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">Tomcat的安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tomcat%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">Tomcat的启动和环境变量配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tomcat%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">Tomcat的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAweb%E7%BD%91%E7%AB%99"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">发布一个web网站</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Http"><span class="toc-number">1.4.</span> <span class="toc-text">Http</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP"><span class="toc-number">1.4.1.</span> <span class="toc-text">什么是HTTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%97%B6%E4%BB%A3"><span class="toc-number">1.4.2.</span> <span class="toc-text">两个时代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E8%AF%B7%E6%B1%82"><span class="toc-number">1.4.3.</span> <span class="toc-text">Http请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%A1%8C"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">请求行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E5%A4%B4"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">消息头</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E5%93%8D%E5%BA%94"><span class="toc-number">1.4.4.</span> <span class="toc-text">Http响应</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E4%BD%93"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">响应体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">响应状态码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven"><span class="toc-number">1.5.</span> <span class="toc-text">Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maven%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.5.1.</span> <span class="toc-text">Maven项目框架管理工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDMaven%E5%92%8C%E5%AE%89%E8%A3%85Maven"><span class="toc-number">1.5.2.</span> <span class="toc-text">下载Maven和安装Maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEMaven%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.3.</span> <span class="toc-text">配置Maven环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">阿里云镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-number">1.5.5.</span> <span class="toc-text">本地仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAmaven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.5.6.</span> <span class="toc-text">创建一个maven项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">1.5.7.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8idea%E4%B8%AD%E9%85%8D%E7%BD%AEtomcat"><span class="toc-number">1.5.8.</span> <span class="toc-text">在idea中配置tomcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POM%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.9.</span> <span class="toc-text">POM文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#idea%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.10.</span> <span class="toc-text">idea操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet"><span class="toc-number">1.6.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet%E7%AE%80%E4%BB%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">Servlet简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HelloServlet"><span class="toc-number">1.6.2.</span> <span class="toc-text">HelloServlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet-%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.3.</span> <span class="toc-text">Servlet 原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mapping%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.4.</span> <span class="toc-text">Mapping问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletContext"><span class="toc-number">1.6.5.</span> <span class="toc-text">ServletContext</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">共享数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">获取初始化参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">请求转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.5.4.</span> <span class="toc-text">读取资源文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HttpServletResponse"><span class="toc-number">1.6.6.</span> <span class="toc-text">HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">简单分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">下载文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.6.6.3.</span> <span class="toc-text">实现重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.6.6.4.</span> <span class="toc-text">简单实现登录重定向</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HttpServletRequest-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%EF%BC%8C%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.6.7.</span> <span class="toc-text">HttpServletRequest 获取参数，请求转发</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie%E3%80%81Session"><span class="toc-number">1.7.</span> <span class="toc-text">Cookie、Session</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.7.1.</span> <span class="toc-text">会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E4%BC%9A%E8%AF%9D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">1.7.2.</span> <span class="toc-text">保存会话的两种技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">1.7.3.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Session%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.7.4.</span> <span class="toc-text">Session（重点）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP"><span class="toc-number">1.8.</span> <span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88-JSP"><span class="toc-number">1.8.1.</span> <span class="toc-text">什么 JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%8E%9F%E7%90%86"><span class="toc-number">1.8.2.</span> <span class="toc-text">JSP原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%92%8C%E6%8C%87%E4%BB%A4"><span class="toc-number">1.8.3.</span> <span class="toc-text">JSP 基础语法和指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.8.3.1.</span> <span class="toc-text">JSP 表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-%E8%84%9A%E6%9C%AC%E7%89%87%E6%AE%B5"><span class="toc-number">1.8.3.2.</span> <span class="toc-text">JSP 脚本片段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%89%87%E6%AE%B5%E7%9A%84%E5%9C%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.8.3.3.</span> <span class="toc-text">脚本片段的在实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-%E5%A3%B0%E6%98%8E"><span class="toc-number">1.8.3.4.</span> <span class="toc-text">JSP 声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-%E6%8C%87%E4%BB%A4"><span class="toc-number">1.8.3.5.</span> <span class="toc-text">JSP 指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.8.3.6.</span> <span class="toc-text">九大内置对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E6%A0%87%E7%AD%BE%E3%80%81JSTL%E6%A0%87%E7%AD%BE%E3%80%81EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.8.3.7.</span> <span class="toc-text">JSP标签、JSTL标签、EL表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaBean"><span class="toc-number">1.9.</span> <span class="toc-text">JavaBean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvc%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">1.10.</span> <span class="toc-text">mvc三层架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A9%E4%BA%9B%E5%B9%B4"><span class="toc-number">1.10.1.</span> <span class="toc-text">早些年</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MVC-%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">1.10.2.</span> <span class="toc-text">MVC 三层架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.11.</span> <span class="toc-text">Filter（重点）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">1.12.</span> <span class="toc-text">监听器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8GUI%E4%B8%AD%E7%90%86%E8%A7%A3"><span class="toc-number">1.13.</span> <span class="toc-text">监听器GUI中理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%8C%E7%9B%91%E5%90%AC%E5%99%A8%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.13.1.</span> <span class="toc-text">过滤器，监听器常见应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter%E5%AE%9E%E7%8E%B0%E6%9D%83%E9%99%90%E6%8B%A6%E6%88%AA"><span class="toc-number">1.14.</span> <span class="toc-text">Filter实现权限拦截</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/99720b1c.html" title="JavaWeb"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.pximg.net/img-master/img/2022/07/14/18/34/38/99719211_p0_master1200.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaWeb"/></a><div class="content"><a class="title" href="/99720b1c.html" title="JavaWeb">JavaWeb</a><time datetime="2022-06-30T12:22:47.000Z" title="发表于 2022-06-30 20:22:47">2022-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/54e1373e.html" title="Mysql"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3xk6q.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql"/></a><div class="content"><a class="title" href="/54e1373e.html" title="Mysql">Mysql</a><time datetime="2022-06-24T13:24:32.000Z" title="发表于 2022-06-24 21:24:32">2022-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20dbfd00.html" title="Java基础"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/0p/wallhaven-0pj8op.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java基础"/></a><div class="content"><a class="title" href="/20dbfd00.html" title="Java基础">Java基础</a><time datetime="2022-06-24T02:13:57.000Z" title="发表于 2022-06-24 10:13:57">2022-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/4a17b156.html" title="Hello World"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/l3/wallhaven-l3xk6q.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/4a17b156.html" title="Hello World">Hello World</a><time datetime="2022-06-23T03:38:55.000Z" title="发表于 2022-06-23 11:38:55">2022-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ff05b5bf.html" title="第一篇博客"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/j3/wallhaven-j3dg1m.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第一篇博客"/></a><div class="content"><a class="title" href="/ff05b5bf.html" title="第一篇博客">第一篇博客</a><time datetime="2022-06-23T03:38:55.000Z" title="发表于 2022-06-23 11:38:55">2022-06-23</time></div></div></div></div></div></div><!--#aside-content.aside-content--><!--  //- post--><!--  if is_post()--><!--    - const tocStyle = page.toc_style_simple--><!--    - const tocStyleVal = tocStyle === true || tocStyle === false ? tocStyle : theme.toc.style_simple--><!--    if showToc && tocStyleVal--><!--      .sticky_layout--><!--        include ./card_post_toc.pug--><!--    else--><!--      !=partial('includes/widget/card_author', {}, {cache: true})--><!--      !=partial('includes/widget/card_announcement', {}, {cache: true})--><!--      !=partial('includes/widget/card_top_self', {}, {cache: true})--><!--      .sticky_layout--><!--        if showToc--><!--          include ./card_post_toc.pug--><!--        !=partial('includes/widget/card_recent_post', {}, {cache: true})--><!--        !=partial('includes/widget/card_ad', {}, {cache: true})--><!--  else--><!--    //- page--><!--    !=partial('includes/widget/card_author', {}, {cache: true})--><!--    !=partial('includes/widget/card_announcement', {}, {cache: true})--><!--    !=partial('includes/widget/card_top_self', {}, {cache: true})--><!----><!--    .sticky_layout--><!--      if showToc--><!--        include ./card_post_toc.pug--><!--      !=partial('includes/widget/card_recent_post', {}, {cache: true})--><!--      !=partial('includes/widget/card_ad', {}, {cache: true})--><!--      !=partial('includes/widget/card_newest_comment', {}, {cache: true})--><!--      !=partial('includes/widget/card_categories', {}, {cache: true})--><!--      !=partial('includes/widget/card_tags', {}, {cache: true})--><!--      !=partial('includes/widget/card_archives', {}, {cache: true})--><!--      !=partial('includes/widget/card_webinfo', {}, {cache: true})--><!--      !=partial('includes/widget/card_bottom_self', {}, {cache: true})--></main><footer id="footer" style="background-image: url('https://i.pximg.net/img-master/img/2022/07/14/00/00/08/99705957_p0_master1200.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By PSPLUSE</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script src="/js/shadow.js"></script><script src="https://myhkw.cn/player/js/player.js" id="myhk" key="159611061656" m="1"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>